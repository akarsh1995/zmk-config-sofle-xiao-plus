#include "sofle_xiao.dtsi"
#include <dt-bindings/led/led.h>

&default_transform {
    col-offset = <0>;
};

&kscan0 {
    col-gpios
        = <&gpio1 7 GPIO_ACTIVE_HIGH>
        , <&gpio1 14 GPIO_ACTIVE_HIGH>
        , <&gpio1 5 GPIO_ACTIVE_HIGH>
        , <&gpio1 13 GPIO_ACTIVE_HIGH>
        , <&gpio1 3 GPIO_ACTIVE_HIGH>
        , <&gpio1 12 GPIO_ACTIVE_HIGH>
        ;

    row-gpios
        = <&gpio1 15 (GPIO_ACTIVE_HIGH | GPIO_PULL_DOWN)>
        , <&gpio0 15 (GPIO_ACTIVE_HIGH | GPIO_PULL_DOWN)>
        , <&gpio0 5 (GPIO_ACTIVE_HIGH | GPIO_PULL_DOWN)>
        , <&gpio0 2 (GPIO_ACTIVE_HIGH | GPIO_PULL_DOWN)>
        , <&gpio1 11 (GPIO_ACTIVE_HIGH | GPIO_PULL_DOWN)>
        ;
};



/* &pinctrl { */
/*     spi3_default: spi3_default { */
/*         group1 { */
/*             psels = <NRF_PSEL(SPIM_MOSI, 1, 15)>; */
/*         }; */
/*     }; */
/**/
/*     spi3_sleep: spi3_sleep { */
/*         group1 { */
/*             psels = <NRF_PSEL(SPIM_MOSI, 1, 15)>; */
/*             low-power-enable; */
/*         }; */
/*     }; */
/* }; */
/**/
/* &spi3 { */
/*     compatible = "nordic,nrf-spim"; */
/*     status = "okay"; */
/**/
/*     pinctrl-0 = <&spi3_default>; */
/*     pinctrl-1 = <&spi3_sleep>; */
/*     pinctrl-names = "default", "sleep"; */
/**/
/*     led_strip: ws2812@0 { */
/*         compatible = "worldsemi,ws2812-spi"; */
/**/
/*         /* SPI */ */
/*         reg = <0>; /* ignored, but necessary for SPI bindings */ */
/*         spi-max-frequency = <4000000>; */
/**/
/*         /* WS2812 */ */
/*         chain-length = <35>; /* 36 LEDs per side for Sofle */ */
/*         spi-one-frame = <0x70>; */
/*         spi-zero-frame = <0x40>; */
/**/
/*         color-mapping = < */
/*             LED_COLOR_ID_GREEN */
/*             LED_COLOR_ID_RED */
/*             LED_COLOR_ID_BLUE */
/*         >; */
/*     }; */
/* }; */
/**/
/* / { */
/*     chosen { */
/*         zmk,underglow = &led_strip; */
/*     }; */
/* }; */
/**/

